(this["webpackJsonpreact-fruits-store"]=this["webpackJsonpreact-fruits-store"]||[]).push([[0],{69:function(t,e,c){},72:function(t,e,c){"use strict";c.r(e);var i=c(1),a=c(0),n=c.n(a),r=c(20),s=c.n(r),o=c(22),l=c(16),j=(c(69),c(8)),d=c(104),b=c(54),u=c(92),O=c(93),m=function(){return Object(i.jsxs)(d.a,{p:[0,4,8,12],textAlign:"center",children:[Object(i.jsx)(u.a,{variant:"h3",children:"YOUR CART IS CURENTLY EMPTY"}),Object(i.jsx)(d.a,{mt:[8,6,4],children:Object(i.jsx)(o.b,{className:"btn-link",to:"/",children:Object(i.jsx)(O.a,{variant:"contained",color:"primary",children:"back to products"})})})]})},x=function(t){return{type:"ADD_PRODUCT_CART",payload:t}},h=function(t){return{type:"SUBTRACT_PRODUCT_CART",payload:t}},p=c(94),f=function(){return Object(i.jsx)(d.a,{display:{xs:"none",sm:"none",md:"block"},mb:3,pb:2,borderBottom:1,borderColor:"grey.500",children:Object(i.jsxs)(p.a,{container:!0,children:[Object(i.jsx)(p.a,{item:!0,xs:2,className:"table-header",children:Object(i.jsx)(u.a,{variant:"h6",align:"center",children:"PRODUCTS"})}),Object(i.jsx)(p.a,{item:!0,xs:2,className:"table-header",children:Object(i.jsx)(u.a,{variant:"h6",align:"center",children:"NAME OF PRODUCT"})}),Object(i.jsx)(p.a,{item:!0,xs:2,className:"table-header",children:Object(i.jsx)(u.a,{variant:"h6",align:"center",children:"PRICE"})}),Object(i.jsx)(p.a,{item:!0,xs:2,className:"table-header",children:Object(i.jsx)(u.a,{variant:"h6",align:"center",children:"QUANTITY"})}),Object(i.jsx)(p.a,{item:!0,xs:2,className:"table-header",children:Object(i.jsx)(u.a,{variant:"h6",align:"center",children:"REMOVE"})}),Object(i.jsx)(p.a,{item:!0,xs:2,className:"table-header",children:Object(i.jsx)(u.a,{variant:"h6",align:"center",children:"TOTAL PRICE"})})]})})},g=c(12),C=c(96),y=c(95),v=c(38),P=c.n(v),T=c(36),D=c.n(T),N=c(37),_=c.n(N),R=c.p+"static/media/discount.4d24c8e3.png",k=Object(y.a)((function(t){var e;return{image:(e={height:"100px",justifyContent:"center",display:"flex"},Object(g.a)(e,t.breakpoints.down("sm"),{height:"500px"}),Object(g.a)(e,t.breakpoints.down("xs"),{height:"300px"}),e),mediaDisplay:{display:"flex",justifyContent:"center"},discountImg:{height:"35px",position:"absolute"}}})),A=function(t){var e=t.product,c=t.onClickAddProduct,a=t.onClickSubtractProduct,n=t.onClickDeleteProduct,r=k(),s=e.item.discount;return Object(i.jsx)(d.a,{mb:[8,1,1,1],mt:[8,1,1,1],pb:[3,1,1,1],style:{textTransform:"capitalize"},borderBottom:1,borderColor:"grey.900",align:"center",children:Object(i.jsxs)(p.a,{container:!0,alignItems:"center",children:[Object(i.jsx)(p.a,{item:!0,xs:12,sm:12,md:2,className:r.image,children:Object(i.jsxs)(d.a,{xs:{height:"100px"},children:[s&&Object(i.jsx)("img",{className:r.discountImg,src:R,alt:"discount"}),Object(i.jsx)("img",{src:e.item.imgUrl,alt:e.item.title,style:{maxHeight:"100%"}})]})}),Object(i.jsx)(p.a,{item:!0,xs:12,sm:12,md:2,children:Object(i.jsx)(d.a,{fontSize:[50,50,20,20],pb:[4,4,0],children:e.item.title})}),Object(i.jsx)(p.a,{item:!0,xs:12,sm:12,md:2,children:Object(i.jsxs)(u.a,{variant:"body1",className:r.mediaDisplay,children:[Object(i.jsx)(d.a,{component:"span",display:{sm:"block",md:"none"},children:"Price:"}),Object(i.jsxs)("span",{children:["$ ",e.item.price]})]})}),Object(i.jsx)(p.a,{item:!0,xs:12,sm:12,md:2,children:Object(i.jsxs)(d.a,{display:"flex",alignItems:"center",justifyContent:"center",children:[Object(i.jsx)(C.a,{onClick:a(e.item.id),children:Object(i.jsx)(D.a,{color:"error"})}),Object(i.jsx)(u.a,{variant:"body1",children:e.totalCount}),Object(i.jsx)(C.a,{onClick:c(e.item.id),children:Object(i.jsx)(_.a,{color:"error"})})]})}),Object(i.jsx)(p.a,{item:!0,xs:12,sm:12,md:2,children:Object(i.jsx)(C.a,{onClick:n(e.item.id),children:Object(i.jsx)(P.a,{color:"error"})})}),Object(i.jsxs)(p.a,{item:!0,xs:12,sm:12,md:2,className:"product-total-price font-w-600",children:[Object(i.jsxs)(u.a,{variant:"body1",className:r.mediaDisplay,children:[Object(i.jsx)(d.a,{component:"span",display:{sm:"block",md:"none"},children:"Total Price:"}),Object(i.jsxs)("span",{children:["$ ",e.totalPrice]})]}),e.item.discount&&Object(i.jsxs)(u.a,{variant:"body1",color:"secondary",children:["DISCOUNTED $ ",e.totalPriceWithDiscount]})]})]},"product_from_cart_".concat(e.item.id))})},E=function(t){var e=t.cartProducts,c=Object(l.b)(),a=function(t){return function(){c(x(t))}},n=function(t){return function(){c(h(t))}},r=function(t){return function(){c(function(t){return{type:"DELETE_PRODUCT_CART",payload:t}}(t))}};return Object(i.jsx)("div",{className:"main",children:Object(i.jsx)("div",{className:"left",children:Object(i.jsxs)("div",{className:"paper",children:[Object(i.jsx)("div",{className:"header",children:Object(i.jsxs)("h1",{children:[Object(i.jsx)("i",{className:"fas fa-shopping-cart"})," Your Cart"]})}),Object(i.jsxs)("div",{children:[Object(i.jsx)(f,{}),Object.values(e.items).map((function(t){return Object(i.jsx)(A,{product:t,onClickAddProduct:a,onClickSubtractProduct:n,onClickDeleteProduct:r},"".concat(t.item.title,"_").concat(t.item.id))}))]}),Object(i.jsx)(d.a,{display:"flex",justifyContent:"flex-end;",children:Object(i.jsxs)(d.a,{mt:4,style:{width:"fit-content"},children:[Object(i.jsx)(O.a,{variant:"outlined",color:"secondary",onClick:function(){c({type:"CLEAR_CART"})},children:"clear cart"}),Object(i.jsx)(d.a,{mt:2,mb:2,children:Object(i.jsxs)(u.a,{variant:"h6",children:["Total Price:",Object(i.jsxs)("ul",{children:[Object(i.jsxs)("p",{children:["Discounted: $ ",e.totalPriceWithDiscount]}),Object(i.jsxs)("p",{children:["No Discount: $ ",e.totalPrice]})]})]})}),Object(i.jsx)(O.a,{onClick:function(){console.log("onClickOrder"),alert("you ordered fruits"),c({type:"CLEAR_CART"})},variant:"contained",color:"primary",children:"Order"})]})})]})})})},U=function(){var t=Object(l.c)((function(t){return t.cart}));return Object(i.jsx)("div",{id:"cart",children:Object(i.jsx)(d.a,{m:[0,4,8,12],children:Object(i.jsx)(b.a,{children:Object(i.jsx)(d.a,{p:[4,4,4,4],children:Object.values(t.items)[0]?Object(i.jsx)(E,{cartProducts:t}):Object(i.jsx)(m,{})})})})})},S=function(){return Object(i.jsx)("div",{children:Object(i.jsx)(u.a,{variant:"h1",children:"No page"})})},L=c(97),w=c(98),I=c.p+"static/media/fruits-log.ae6cdceb.png",B=c(27),W=c.n(B),$=Object(y.a)((function(t){return{root:{flexGrow:1},logoButton:{padding:"5px",marginTop:t.spacing(1),marginBottom:t.spacing(1),marginRight:t.spacing(2),border:"2px solid #fff"},cartButton:{padding:t.spacing(1)},title:{flexGrow:1}}})),F=function(){var t=$(),e=Object(l.c)((function(t){return t.cart}));return Object(i.jsx)("div",{id:"header",children:Object(i.jsx)(L.a,{position:"static",color:"secondary",children:Object(i.jsxs)(w.a,{children:[Object(i.jsx)(o.b,{to:"/",children:Object(i.jsx)(C.a,{edge:"start",className:t.logoButton,color:"inherit","aria-label":"menu",children:Object(i.jsx)("img",{style:{height:"40px",width:"40px"},src:I,alt:"fruits logo"})})}),Object(i.jsx)(u.a,{variant:"h6",className:t.title,children:"Fruits Store"}),Object(i.jsx)(o.b,{to:"/cart",children:Object(i.jsx)(O.a,{className:t.cartButton,variant:"contained",color:"primary",style:{padding:"10px 20px"},children:e.totalCount?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("span",{children:["$",e.totalPriceWithDiscount]}),Object(i.jsx)("span",{style:{margin:"0 10px"},children:"|"}),Object(i.jsx)(W.a,{}),Object(i.jsx)("span",{style:{marginLeft:"10px"},children:e.totalCount})]}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(W.a,{}),Object(i.jsx)("span",{style:{marginLeft:"10px"},children:"Cart"})]})})})]})})})},z=c(7),Y=c(99),X=c(100),M=c(103),G=c(102),J=c(101),q=Object(y.a)({root:{maxWidth:345},discountImg:{height:"70px",position:"absolute"}}),V=function(t){var e=t.id,c=t.price,a=t.title,n=t.imgUrl,r=t.onClickAddProduct,s=t.onClickSubtractProduct,o=t.addedTotal,l=t.discount,j=q(),b=o.totalCount,m=o.totalPriceWithDiscount,x=function(){r(e)};return Object(i.jsx)("div",{className:"product",children:Object(i.jsxs)(Y.a,{className:j.root,children:[Object(i.jsxs)(X.a,{children:[l&&Object(i.jsx)("img",{className:j.discountImg,src:R,alt:"discount"}),Object(i.jsx)(J.a,{component:"img",alt:a,height:"300",image:n,title:a}),Object(i.jsx)(G.a,{children:Object(i.jsx)(u.a,{gutterBottom:!0,variant:"h5",component:"h2",style:{textTransform:"capitalize"},children:a})})]}),Object(i.jsxs)(M.a,{style:{justifyContent:"space-between"},children:[Object(i.jsxs)(u.a,{children:["Price for 1kg: $ ",c," "]}),o?Object(i.jsxs)(d.a,{display:"flex",alignItems:"center",justifyContent:"center",children:[Object(i.jsx)(C.a,{onClick:function(){s(e)},children:Object(i.jsx)(D.a,{color:"error"})}),Object(i.jsx)(u.a,{variant:"body1",children:b}),Object(i.jsx)(C.a,{onClick:x,children:Object(i.jsx)(_.a,{color:"error"})}),Object(i.jsxs)(u.a,{variant:"body1",children:["| $ ",m]})]}):Object(i.jsx)(O.a,{variant:"contained",color:"primary",size:"small",onClick:x,children:o?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("span",{children:["$",m]}),Object(i.jsx)("span",{style:{margin:"0 10px"},children:"|"}),Object(i.jsx)(W.a,{}),Object(i.jsx)("span",{style:{marginLeft:"10px"},children:b})]}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(W.a,{}),Object(i.jsx)("span",{style:{marginLeft:"10px"},children:"Add To Cart"})]})})]})]})})},H=[{id:1,title:"banana",imgUrl:"https://images-na.ssl-images-amazon.com/images/I/61fZ%2BYAYGaL._SX679_.jpg",discount:!1,price:10},{id:2,title:"apple",imgUrl:"https://sc01.alicdn.com/kf/UTB8ou8hOyDEXKJk43Oqq6Az3XXaz.jpg",discount:!1,price:8},{id:4,title:"papaya",imgUrl:"https://exoticfruitbox.com/wp-content/uploads/2015/10/papaya-3-Exotic-500x500.jpg",discount:!0,price:10}],K=Object(y.a)({root:{flexGrow:1,padding:"30px 0"}}),Q=function(){var t=K(),e=Object(l.b)(),c=Object(l.c)((function(t){return t.products})),a=c.items,r=c.isLoaded,s=Object(l.c)((function(t){return t.cart.items}));n.a.useEffect((function(){e({type:"SET_PRODUCTS",payload:H})}),[]);var o=function(t){e(x(t))},j=function(t){e(h(t))};return Object(i.jsx)("div",{id:"product-list",children:Object(i.jsx)("div",{className:t.root,children:Object(i.jsxs)(p.a,{container:!0,spacing:3,children:[Object(i.jsx)(p.a,{item:!0,xs:1}),Object(i.jsx)(p.a,{container:!0,item:!0,xs:10,spacing:2,children:r&&a.map((function(t){return Object(i.jsx)(p.a,{item:!0,xs:12,sm:12,md:6,lg:4,style:{display:"flex",justifyContent:"center"},children:Object(i.jsx)(V,Object(z.a)(Object(z.a)({},t),{},{addedTotal:s[t.id]?s[t.id]:"",onClickAddProduct:o,onClickSubtractProduct:j}))},"".concat(t.title,"__").concat(t.id))}))}),Object(i.jsx)(p.a,{item:!0,xs:1})]})})})};var Z=function(){return Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)(F,{}),Object(i.jsxs)(j.c,{children:[Object(i.jsx)(j.a,{exact:!0,path:"/",children:Object(i.jsx)(Q,{})}),Object(i.jsx)(j.a,{exact:!0,path:"/cart",children:Object(i.jsx)(U,{})}),Object(i.jsx)(j.a,{children:Object(i.jsx)(S,{})})]})]})},tt=c(24),et=c(52),ct={items:[],isLoaded:!1},it=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_PRODUCTS":return Object(z.a)(Object(z.a)({},t),{},{items:e.payload,isLoaded:!0});case"SET_LOADED":return Object(z.a)(Object(z.a)({},t),{},{isLoaded:e.payload});default:return t}},at={items:[],totalPrice:0,totalCount:0},nt=function(t){return Object.values(t).reduce((function(t,e){return e.totalCount+t}),0)},rt=function(t){return Object.values(t).reduce((function(t,e){return e.totalPrice+t}),0)},st=function(t){return Object.values(t).reduce((function(t,e){return e.totalPriceWithDiscount+t}),0)},ot=function(t){return parseFloat(t.toFixed(2))},lt=function(t,e){return Math.floor(t/3)*(e/2)},jt=function(){var t,e,c,i,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"ADD_PRODUCT_CART":var r=H.find((function(t){return t.id===n.payload}));a.items[n.payload]||(t=r,e=r.price,c=r.price,i=1),a.items[n.payload]&&(t=a.items[n.payload].item,c=(i=a.items[n.payload].totalCount+1)*r.price,e=r.discount?c-lt(i,r.price):c);var s=Object(z.a)(Object(z.a)({},a.items),{},Object(g.a)({},n.payload,{item:t,totalCount:i,totalPrice:c,totalPriceWithDiscount:e}));return console.log("initialState from cart:",a),Object(z.a)(Object(z.a)({},a),{},{items:s,totalCount:nt(s),totalPrice:ot(rt(s)),totalPriceWithDiscount:ot(st(s))});case"SUBTRACT_PRODUCT_CART":var o=a.items[n.payload],l=o.item.discount,j=o.totalPrice-o.item.price;if(i=o.totalCount-1,o.totalCount>1)return l?(e=j-lt(i,o.item.price),console.log("stateDiscont true",e)):(e=j,console.log("stateDiscont false",e)),Object(z.a)(Object(z.a)({},a),{},{items:Object(z.a)(Object(z.a)({},a.items),{},Object(g.a)({},n.payload,{item:o.item,totalCount:i,totalPrice:j,totalPriceWithDiscount:e})),totalCount:a.totalCount-1,totalPrice:a.totalPrice-o.item.price});if(1===o.totalCount)return delete a.items[n.payload],console.log(" state.items",a.items[n.payload]),console.log(" state.items",a.items),Object(z.a)(Object(z.a)({},a),{},{items:Object(z.a)({},a.items),totalCount:a.totalCount-1,totalPrice:ot(rt(a.items)),totalPriceWithDiscount:ot(st(a.items))});console.log("something ran wrong in subtractProductToCart");case"DELETE_PRODUCT_CART":var d=a.totalCount-a.items[n.payload].totalCount;return delete a.items[n.payload],console.log(" state.items",a.items[n.payload.id]),console.log(" state.items",a.items),Object(z.a)(Object(z.a)({},a),{},{items:Object(z.a)({},a.items),totalCount:d,totalPrice:ot(rt(a.items)),totalPriceWithDiscount:ot(st(a.items))});case"CLEAR_CART":return at;default:return a}},dt=Object(tt.c)({products:it,cart:jt}),bt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||tt.d,ut=Object(tt.e)(dt,bt(Object(tt.a)(et.a))),Ot=Object(i.jsx)(o.a,{children:Object(i.jsx)(l.a,{store:ut,children:Object(i.jsx)(Z,{})})});s.a.render(Ot,document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.aa3024b7.chunk.js.map